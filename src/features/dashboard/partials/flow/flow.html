<ng-template #server3>
  <div class="flex font-ibm-plex items-start gap-3 mb-3">
    <div class="flex-1 min-w-0 text-compact">
      <h3 class="font-semibold text-red-800 bg-red-50 rounded-md text-sm mb-0.5 inline-block p-0.5">
        Lorem Ipsum Dolor Sit &nbsp; &nbsp; &nbsp; &nbsp;
      </h3>
      <div class="flex flex-wrap gap-1 mt-4 w-full pl-8">
        <p class="text-red-800 font-semibold bg-red-50 rounded-md px-2 py-1">192.168.1.3</p>
        <p class="text-red-800 font-semibold bg-red-50 rounded-md px-2 py-1">192.168.1.3</p>
        <p class="text-red-800 font-semibold bg-red-50 rounded-md px-2 py-1">192.168.1.3</p>
        <p class="text-red-800 font-semibold bg-red-50 rounded-md px-2 py-1">192.168.1.3</p>
        <p class="text-red-800 font-semibold bg-red-50 rounded-md px-2 py-1">192.168.1.3</p>
        <p class="text-red-800 font-semibold bg-red-50 rounded-md px-2 py-1">192.168.1.3</p>
      </div>
      <div class="mt-4 flex items-center gap-2">
        <p class="text-purple-600 font-semibold bg-purple-50 rounded-md px-2 py-1">Lorem 1.2.3.4</p>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #server1>
  <div class="flex items-start gap-3 mb-3">
    <div class="flex-1 min-w-0 text-compact">
      <div class="flex items-center mb-0.5 gap-4">
        <div class="flex items-center size-[39.69px] bg-blue-100 rounded-full justify-center">
          <svg-icon src="/assets/icons/server.svg" />
        </div>

        <h3 class="font-semibold text-gray-700 text-compact">
          Lorem Ipsum Dolor Sit &nbsp; &nbsp; &nbsp; &nbsp;
        </h3>
      </div>
      <div class="mt-4 flex items-center gap-2">
        <svg-icon src="/assets/icons/doc.svg" />
        <p class="text-gray-700 font-bold text-base">Lorem: Loremipsum Loremipsum</p>
        <p class="text-purple-600 font-semibold bg-purple-50 rounded-md px-2 py-1">1.2.3.4</p>
      </div>
      <div class="mt-2 flex items-center gap-2">
        <p class="text-purple-600 font-semibold font-ibm-plex bg-purple-50 rounded-md px-2 py-1">
          1.2.3.4
        </p>
        <p class="text-gray-700 font-bold text-base">Loremipsum</p>
        <p class="text-purple-600 font-semibold font-ibm-plex bg-purple-50 rounded-md px-2 py-1">
          1.2.3.4
        </p>
        <p class="text-purple-600 font-semibold font-ibm-plex bg-purple-50 rounded-md px-2 py-1">
          1.2.3.4
        </p>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #server5>
  <div class="flex items-start gap-3 mb-3">
    <div class="flex-1 min-w-0 text-compact">
      <div class="flex items-center mb-0.5 gap-4">
        <div
          class="flex items-center size-[39.69px] bg-blue-100 rounded-full justify-center relative"
        >
          <svg-icon src="/assets/icons/server.svg" />
          <div
            class="absolute -top-2 -right-2 size-[19.8px] bg-red-700 flex items-center justify-center rounded-full"
          >
            <svg-icon src="/assets/icons/shield.svg" />
          </div>
        </div>

        <div>
          <h3 class="font-semibold text-gray-700 text-compact">Loremipsumdolorsit</h3>
          <p class="font-medium text-xs text-gray-500">192.168.1.1</p>
        </div>
      </div>
      <div class="mt-4 flex items-center gap-2">
        <svg-icon src="/assets/icons/doc.svg" />
        <p class="text-gray-700 font-bold text-base">Lorem:</p>
        <p class="text-yellow-600 font-ibm-plex font-semibold bg-yellow-50 rounded-md px-2 py-1">
          Lorem â€œipsum"
        </p>
      </div>
      <div class="mt-2 flex items-center gap-2">
        <p class="text-gray-700 font-bold text-base">Loremipsum</p>
        <p class="text-blue-700 font-ibm-plex font-semibold bg-blue-50 rounded-md px-2 py-1">
          Lorem 1.2.3.4, 5678
        </p>
      </div>
    </div>
  </div>
</ng-template>

<div class="bg-gray-25 py-3 min-h-[200px] my-4 rounded-tr-lg px-4">
  <div class="min-h-[250px] flex items-center justify-center relative w-full">
    <div class="pim | w-full max-w-full overflow-hidden px-8">
      <svg-icon #flowSvg src="/assets/icons/flow.svg" class="w-full h-auto max-w-none"></svg-icon>
    </div>
    <!-- Hover modals -->
    @if (hoveredElement !== null) {
      <div
        class="wrap | absolute bg-white rounded-xl shadow-xl p-3 max-w-96 z-50 pointer-events-none opacity-0 transition-opacity duration-200"
        [style.left.px]="modalPosition.x"
        [style.top.px]="modalPosition.y"
        [class.opacity-100]="hoveredElement !== null"
      >
        @if (hoveredElement === Servers.SERVER_3) {
          <ng-template [ngTemplateOutlet]="server3" />
        }
        @if (hoveredElement === Servers.SERVER_1 || hoveredElement === Servers.SERVER_2) {
          <ng-template [ngTemplateOutlet]="server1" />
        }
        @if (hoveredElement === Servers.SERVER_5 || hoveredElement === Servers.SERVER_4) {
          <ng-template [ngTemplateOutlet]="server5" />
        }
      </div>
    }
  </div>
  <div class="border-t border-t-gray-100 pt-3 flex gap-4 items-center justify-start">
    <div class="flex gap-2 items-center">
      <div class="bg-red-700 size-[25px] rounded-full flex items-center justify-center">
        <svg-icon src="/assets/icons/shield.svg"></svg-icon>
      </div>
      <p class="font-bold text-base text-red-700 capitalize">Lorem</p>
    </div>
    <div class="flex gap-2 items-center">
      <div class="bg-orange size-[25px] rounded-full flex items-center justify-center">
        <svg-icon src="/assets/icons/shield.svg"></svg-icon>
      </div>
      <p class="font-bold text-base text-orange capitalize">Lorem</p>
    </div>
    <div class="flex gap-2 items-center">
      <div class="bg-green-700 size-[25px] rounded-full flex items-center justify-center">
        <svg-icon src="/assets/icons/shield-pass.svg"></svg-icon>
      </div>
      <p class="font-bold text-base text-green-700 capitalize">Lorem</p>
    </div>
  </div>
</div>
